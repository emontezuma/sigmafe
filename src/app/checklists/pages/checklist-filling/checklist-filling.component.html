<div
    class="container"
    #checklistFilling
    cdkScrollable
    @routingAnimation
    (@routingAnimation.done)="animationFinished($event)"
>
    <mat-tab-group
        mat-stretch-tabs="false"
        mat-align-tabs="start"
        dynamicHeight
        (selectedIndexChange)="setTabIndex($event)"
    >
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon
                    class="svgicon tab-icon"
                    svgIcon="checklist-header"
                    [ngStyle]="{ 'fill': currentTabIndex === 0 ? 'var(--z-colors-page-primary)' : 'var(--z-colors-page-fore)' }"
                >
                </mat-icon>
                <label class="tab-label" i18n>Información general</label>
            </ng-template>
            <ng-template matTabContent>
                <div class="tabs tab-general-info">
                    <mat-card class="card">
                        <mat-progress-bar
                            *ngIf="alarmed"
                            mode="indeterminate"
                            color="warn"
                            name="active-progress-bar"
                            class="progress"
                        >
                        </mat-progress-bar>
                        <mat-card-header>
                            <div class="layout">
                                <div class="grid">
                                    <div>         
                                        <mat-card-title>133,030</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Folio Número
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                    <mat-card-title>ACTIVO / AL DIA</mat-card-title>
                                    <mat-card-subtitle
                                        i18n
                                        class="label"
                                    >
                                        Estatus del checklist
                                    </mat-card-subtitle>
                                    </div>
                                    <div class="checklist-progress">
                                        <mat-card-subtitle
                                            i18n
                                            class="label-progress"
                                        >
                                            Avance
                                        </mat-card-subtitle>
                                        <app-spinner
                                            class="spinner"
                                            [diameter]="50"
                                            [value]="valueToChart"
                                            [showBackgound]="true"
                                            [suffix]="'%'"
                                            [limits]="limits"
                                            [fonts]="fonts"
                                            [exhaustedValue]="'999'"
                                            [prefix]="'>'"
                                            [showPrefix]="showPrefix"
                                            [smallFont]="smallFont"
                                        ></app-spinner>                        
                                        <mat-card-subtitle
                                            i18n
                                            class="label-progress"
                                        >
                                            21 de 32
                                        </mat-card-subtitle>
                                    </div>
                                    <div class="checklist-name">
                                        <mat-card-title>CHECKLIST ESPECIAL</mat-card-title>
                                        <mat-card-subtitle
                                            class="label"
                                            i18n
                                        >
                                            Nombre del checklist
                                        </mat-card-subtitle>
                                    </div>
                                </div>  
                                <mat-divider class="divider"></mat-divider>
                                <div class="grid-multiple">
                                    <div>         
                                        <mat-card-title class="additional-info">ELVIS MONTEZUMA</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Asignado a
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                        <mat-card-title class="additional-info">SISTEMAS</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Departamento
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                        <mat-card-title class="additional-info">AUTOMÁTICA</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Tipo de asignación
                                        </mat-card-subtitle>
                                    </div>
                                    <div>         
                                        <mat-card-title class="additional-info">Miércoles, 21-Jul-2023 6:00:00 AM</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Fecha de planificación
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                        <mat-card-title class="additional-info">Viernes, 31-Jul-2023 9:11:14 AM</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Fecha de inicio
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                        <mat-card-title class="additional-info">Jueves, 06-Ago-2023 12:00:00 PM</mat-card-title>
                                        <mat-card-subtitle
                                            i18n
                                            class="label"
                                        >
                                            Fecha de vencimiento
                                        </mat-card-subtitle>
                                    </div>                 
                                </div>                                
                            </div>  
                        </mat-card-header>
                        <mat-accordion
                            i18n
                        >
                            <mat-expansion-panel
                                (opened)="panelOpenState[0] = true" 
                                (closed)="panelOpenState[0] = false"
                                hideToggle="true"
                                [expanded]="panelOpenState[0]" 
                            >
                                <mat-expansion-panel-header
                                    [collapsedHeight]="'55px'"
                                    [ngStyle]="{ 'background-color': panelOpenState[0] ? 'var(--z-colors-page-shadow)' : 'var(--z-colors-page-card-background-color)' }"

                                >                                            
                                    <mat-panel-title>
                                        <mat-icon 
                                            class="svgicon accordion-icon"
                                            svgIcon="menu"
                                        >
                                        </mat-icon>
                                        <label class="accordion-label">Organización del checklist</label>                                                
                                    </mat-panel-title>
                                    <div class="icon-button-container">
                                        <button
                                            mat-icon-button
                                            class="icon-button open"
                                            aria-label="icon-button with menu icon"
                                        >
                                            <mat-icon 
                                                class="icon-button"
                                                >
                                                    {{ panelOpenState[0] ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
                                            </mat-icon>
                                        </button>
                                    </div>
                                </mat-expansion-panel-header>                                  
                                <div class="grid-multiple">
                                    <div>                         
                                        <mat-card-title class="additional-info">ELISEO PEREZ</mat-card-title>
                                        <mat-card-subtitle class="label">
                                            Planificado por
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                        <mat-card-title class="additional-info">DIRECCIÓN DE FINANZAS</mat-card-title>
                                        <mat-card-subtitle class="label">
                                            Departamento
                                        </mat-card-subtitle>
                                    </div>
                                    <div>
                                        <mat-card-title class="additional-info">AUDITORIAS SEMANALES</mat-card-title>
                                        <mat-card-subtitle class="label">
                                            Proyecto
                                        </mat-card-subtitle>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </mat-card>
                </div>
            </ng-template>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon
                    class="svgicon tab-icon"
                    svgIcon="checklist"
                    [ngStyle]="{ 'fill': currentTabIndex === 1 ? 'var(--z-colors-page-primary)' : 'var(--z-colors-page-fore)' }"
                >
                </mat-icon>
                <label class="tab-label" i18n>Cuestionario</label>
            </ng-template>
            <ng-template matTabContent>
                <mat-divider class="divider extended"></mat-divider>
                <div class="tabs tab-general-info">
                    Content 2
                </div>            
            </ng-template>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon
                    class="svgicon tab-icon"
                    svgIcon="support"
                    [ngStyle]="{ 'fill': currentTabIndex === 2 ? 'var(--z-colors-page-primary)' : 'var(--z-colors-page-fore)' }"
                >
                </mat-icon>
                <label
                    class="tab-label"
                    i18n
                >
                    Soporte
                </label>
            </ng-template>
            <ng-template matTabContent>
                <mat-divider class="divider extended"></mat-divider>
                <div class="tabs tab-general-info">
                    Content 2
                </div>            
            </ng-template>
        </mat-tab>
    </mat-tab-group>
</div>