<div
  class="container-animated"
  (@dissolve.done)="pageAnimationFinished($event)"
  @dissolve
>
  <div class="molds-table">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="mainImagePath">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Imagen</th>
        <td mat-cell *matCellDef="let row">
          <div class="card-image-wide">
            <div class="image-container-wide">
              <img
                *ngIf="!loading"
                @dissolve
                appImageNotFound
                class="mold-image"                        
                [src]="row.mainImagePath"
                [alt]="row.description"            
                fill
              >         
            </div>
          </div>        
        </td>      
      </ng-container>
      
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
        <td mat-cell *matCellDef="let row"><strong>{{ row.description }}</strong></td>
      </ng-container>

      <ng-container matColumnDef="serialNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Serial</th>
        <td mat-cell *matCellDef="let row">{{ row.serialNumber }}</td>
      </ng-container>

      <ng-container matColumnDef="label">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Color/Etiqueta</th>
        <td mat-cell *matCellDef="let row">
          <div
            *ngIf="row.label"
              class="card-color"
              [ngStyle]="{ 'background-color': row.label }">
          </div>        
        </td>
      </ng-container>

      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado actual</th>
        <td mat-cell *matCellDef="let row">{{ row.state }}</td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Estatus</th>
        <td mat-cell *matCellDef="let row">{{ row.status }}</td>
      </ng-container>

      <ng-container matColumnDef="updatedAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Últ. actualización</th>
        <td mat-cell *matCellDef="let row">{{ row.updatedAt | date:"medium" }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: 1"></tr>
      <tr class="table-row" mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <tr class="molds-table-mat-row" *matNoDataRow>
        <td class="molds-table__no-data" colspan="8">
          No hay registros a mostrar
        </td>
      </tr>
    </table>

    <div class="molds-table__paginator-bot">
      <div style="margin-left: 10px;">Total registros {{ pageInfo.totalRecords}}</div>
      <mat-divider          
        vertical          
      >
      </mat-divider>
      <mat-paginator
        #paginator
        class="molds-table__paginator"
        [length]="pageInfo.totalRecords"
        [pageSize]="50"
        (page)="pageChange($event)"
        showFirstLastButtons
      > 
      </mat-paginator>
    </div>
  </div>
</div>
